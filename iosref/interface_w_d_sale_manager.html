<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wirecard-ePOS: WDSaleManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wirecard-ePOS
   &#160;<span id="projectnumber">2.3</span>
   </div>
   <div id="projectbrief">Acceptance of the Card payments and alternative payment methods</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interface_w_d_sale_manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="interface_w_d_sale_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">WDSaleManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sale Management.  
 <a href="interface_w_d_sale_manager.html#details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_w_d_sale_manager_8h_source.html">WDSaleManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for WDSaleManager:</div>
<div class="dyncontent">
<div class="center"><img src="interface_w_d_sale_manager__inherit__graph.png" border="0" usemap="#_w_d_sale_manager_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WDSaleManager:</div>
<div class="dyncontent">
<div class="center"><img src="interface_w_d_sale_manager__coll__graph.png" border="0" usemap="#_w_d_sale_manager_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:abb6a948e0a0a4f47a86eb29da3f27d18"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#abb6a948e0a0a4f47a86eb29da3f27d18">pay:progress:collectSignature:verifySignature:cardApplication:completion:</a></td></tr>
<tr class="memdesc:abb6a948e0a0a4f47a86eb29da3f27d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the payment process.  <a href="#abb6a948e0a0a4f47a86eb29da3f27d18">More...</a><br /></td></tr>
<tr class="separator:abb6a948e0a0a4f47a86eb29da3f27d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b96f7bb7b14c35012aa5c57eaa1c7c9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#a8b96f7bb7b14c35012aa5c57eaa1c7c9">pay:delegate:</a></td></tr>
<tr class="memdesc:a8b96f7bb7b14c35012aa5c57eaa1c7c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the payment process.  <a href="#a8b96f7bb7b14c35012aa5c57eaa1c7c9">More...</a><br /></td></tr>
<tr class="separator:a8b96f7bb7b14c35012aa5c57eaa1c7c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13fe93c2cd06103e0a463209fb9c3098"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#a13fe93c2cd06103e0a463209fb9c3098">cancelPay</a></td></tr>
<tr class="memdesc:a13fe93c2cd06103e0a463209fb9c3098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the payment flow ONLY if the situation/terminal allows it. For Miura terminals, this function works anytime. For other terminals (ie Spire ones), it ONLY works when waiting signature input &ndash; the call will be IGNORED by the hardware otherwise, as they are designed to accept only cancellation through keypad.  <a href="#a13fe93c2cd06103e0a463209fb9c3098">More...</a><br /></td></tr>
<tr class="separator:a13fe93c2cd06103e0a463209fb9c3098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090a74bafc333fcf273b3ed0076faa2c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#a090a74bafc333fcf273b3ed0076faa2c">salesStatistics:completion:</a></td></tr>
<tr class="memdesc:a090a74bafc333fcf273b3ed0076faa2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the sales statistics based on the search criteria.  <a href="#a090a74bafc333fcf273b3ed0076faa2c">More...</a><br /></td></tr>
<tr class="separator:a090a74bafc333fcf273b3ed0076faa2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df49610107be458f356128caeb6f1cb"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#a5df49610107be458f356128caeb6f1cb">querySales:completion:</a></td></tr>
<tr class="memdesc:a5df49610107be458f356128caeb6f1cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the sales for the merchant user based on the search criteria.  <a href="#a5df49610107be458f356128caeb6f1cb">More...</a><br /></td></tr>
<tr class="separator:a5df49610107be458f356128caeb6f1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48cee158a387769f8bce6614ab4d213a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#a48cee158a387769f8bce6614ab4d213a">getSale:completion:</a></td></tr>
<tr class="memdesc:a48cee158a387769f8bce6614ab4d213a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the specified sale.  <a href="#a48cee158a387769f8bce6614ab4d213a">More...</a><br /></td></tr>
<tr class="separator:a48cee158a387769f8bce6614ab4d213a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2355dffc9b4b47d3012cc81a7e50a1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#a8b2355dffc9b4b47d3012cc81a7e50a1">reverseSale:cashRegisterId:message:completion:</a></td></tr>
<tr class="memdesc:a8b2355dffc9b4b47d3012cc81a7e50a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverse the sale.  <a href="#a8b2355dffc9b4b47d3012cc81a7e50a1">More...</a><br /></td></tr>
<tr class="separator:a8b2355dffc9b4b47d3012cc81a7e50a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f52f2d79b9bedc9909d7b631a0a733"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#aa4f52f2d79b9bedc9909d7b631a0a733">refundSale:message:completion:</a></td></tr>
<tr class="memdesc:aa4f52f2d79b9bedc9909d7b631a0a733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refund the sale.  <a href="#aa4f52f2d79b9bedc9909d7b631a0a733">More...</a><br /></td></tr>
<tr class="separator:aa4f52f2d79b9bedc9909d7b631a0a733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a472663e43c715c7f4f3d36dc8e895"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_w_d_sale_manager.html#af9a472663e43c715c7f4f3d36dc8e895">sendReceiptForSale:saleState:byEmailOrPhone:completion:</a></td></tr>
<tr class="memdesc:af9a472663e43c715c7f4f3d36dc8e895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Receipt to Email or Phone.  <a href="#af9a472663e43c715c7f4f3d36dc8e895">More...</a><br /></td></tr>
<tr class="separator:af9a472663e43c715c7f4f3d36dc8e895"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sale Management. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a id="a13fe93c2cd06103e0a463209fb9c3098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13fe93c2cd06103e0a463209fb9c3098">&#9670;&nbsp;</a></span>cancelPay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) cancelPay </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the payment flow ONLY if the situation/terminal allows it. For Miura terminals, this function works anytime. For other terminals (ie Spire ones), it ONLY works when waiting signature input &ndash; the call will be IGNORED by the hardware otherwise, as they are designed to accept only cancellation through keypad. </p>

</div>
</div>
<a id="a48cee158a387769f8bce6614ab4d213a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48cee158a387769f8bce6614ab4d213a">&#9670;&nbsp;</a></span>getSale:completion:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getSale: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>internalId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(SaleQueryResponse)&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the specified sale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">internalId</td><td>transaction Id </td></tr>
    <tr><td class="paramname">completion</td><td>TransactionsQueryResponse block executed at the end of the method - provides Array of WDSales </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b96f7bb7b14c35012aa5c57eaa1c7c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b96f7bb7b14c35012aa5c57eaa1c7c9">&#9670;&nbsp;</a></span>pay:delegate:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) pay: </td>
          <td></td>
          <td class="paramtype">(WDPaymentConfig *)&#160;</td>
          <td class="paramname"><em>saleConfiguration</em></td>
        </tr>
        <tr>
          <td class="paramkey">delegate:</td>
          <td></td>
          <td class="paramtype">(id&lt; WDPaymentDelegate &gt;)&#160;</td>
          <td class="paramname"><em>delegate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the payment process. </p>
<p>The delegate will be able to receive the below events:</p>
<p><b>progress</b> @b bearing the information about the payment process progress</p>
<p><b>collectSignature</b> @b that needs to execute the option to capture a signature and return the signature data</p>
<p><b>confirm</b> @b that informs that e.g. signature needs to be verified or WeChat/Alipay password to be entered by customer. This is done after the transaction has been already send to background, but the final approval depends on the merchant.</p>
<p><b>cardApplication</b> @b informs that an application selection is needed with the chip card inserted.</p>
<p><b>completion</b> @b that will be called at the very end of payment flow. It provides an Saleobject (that may be nil if unauthorised) or a descriptive error </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">saleConfiguration</td><td>Configuration to be used to perform this payment </td></tr>
    <tr><td class="paramname">delegate</td><td>to receive the events from the payment flow </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb6a948e0a0a4f47a86eb29da3f27d18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6a948e0a0a4f47a86eb29da3f27d18">&#9670;&nbsp;</a></span>pay:progress:collectSignature:verifySignature:cardApplication:completion:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) pay: </td>
          <td></td>
          <td class="paramtype">(WDPaymentConfig *)&#160;</td>
          <td class="paramname"><em>saleConfiguration</em></td>
        </tr>
        <tr>
          <td class="paramkey">progress:</td>
          <td></td>
          <td class="paramtype">(PaymentProgress)&#160;</td>
          <td class="paramname"><em>progress</em></td>
        </tr>
        <tr>
          <td class="paramkey">collectSignature:</td>
          <td></td>
          <td class="paramtype">(SignatureRequiredRequest)&#160;</td>
          <td class="paramname"><em>collectSignature</em></td>
        </tr>
        <tr>
          <td class="paramkey">verifySignature:</td>
          <td></td>
          <td class="paramtype">(SignatureVerificationRequest)&#160;</td>
          <td class="paramname"><em>verifySignature</em></td>
        </tr>
        <tr>
          <td class="paramkey">cardApplication:</td>
          <td></td>
          <td class="paramtype">(PaymentCardApplicationSelectionRequest)&#160;</td>
          <td class="paramname"><em>cardApplication</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(&quot;Use <a class="el" href="interface_w_d_sale_manager.html#a8b96f7bb7b14c35012aa5c57eaa1c7c9">pay:delegate:</a>&quot;)&#160;</td>
          <td class="paramname"><em>DEPRECATED_MSG_ATTRIBUTE</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the payment process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">saleConfiguration</td><td>Configuration to be used to perform this payment </td></tr>
    <tr><td class="paramname">progress</td><td>Block bearing the information about the payment process progress </td></tr>
    <tr><td class="paramname">collectSignature</td><td>Block that needs to execute the option to capture a signature and return the signature data </td></tr>
    <tr><td class="paramname">verifySignature</td><td>Block that informs that a signature needs to be verified. This is done after the transaction has been already send to background, but the final approval depends on the merchant. Only terminals with signature verification built it (i.e. Spire Posmate) requires actions here. And signatureVerification block can be handled in the same way as the completion block, as indicates a completion itself (just lacking the second generate AC) </td></tr>
    <tr><td class="paramname">cardApplication</td><td>Block informs that an application selection is needed with the chip card inserted. </td></tr>
    <tr><td class="paramname">completion</td><td>Block that will be called at the very end of payment flow. It provides an Saleobject (that may be nil if unauthorised) or a descriptive error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5df49610107be458f356128caeb6f1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df49610107be458f356128caeb6f1cb">&#9670;&nbsp;</a></span>querySales:completion:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) querySales: </td>
          <td></td>
          <td class="paramtype">(WDSalesQuery *)&#160;</td>
          <td class="paramname"><em>searchCriteria</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(SaleQueryResponse)&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the sales for the merchant user based on the search criteria. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchCriteria</td><td>Definition of search criteria in WDSaleQuery instance </td></tr>
    <tr><td class="paramname">completion</td><td>SaleQueryResponse block executed at the end of the method - provides Array of WDSales </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa4f52f2d79b9bedc9909d7b631a0a733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f52f2d79b9bedc9909d7b631a0a733">&#9670;&nbsp;</a></span>refundSale:message:completion:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) refundSale: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_w_d_sale_request.html">WDSaleRequest</a> *)&#160;</td>
          <td class="paramname"><em>sale</em></td>
        </tr>
        <tr>
          <td class="paramkey">message:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>message</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(SaleUpdateCompletion)&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refund the sale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sale</td><td>original sale to refund </td></tr>
    <tr><td class="paramname">message</td><td>detailed information to be set for this action </td></tr>
    <tr><td class="paramname">completion</td><td>Block executed at the end of the method </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b2355dffc9b4b47d3012cc81a7e50a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2355dffc9b4b47d3012cc81a7e50a1">&#9670;&nbsp;</a></span>reverseSale:cashRegisterId:message:completion:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) reverseSale: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>internalId</em></td>
        </tr>
        <tr>
          <td class="paramkey">cashRegisterId:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>cashRegisterId</em></td>
        </tr>
        <tr>
          <td class="paramkey">message:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>message</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(SaleUpdateCompletion _Nonnull)&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reverse the sale. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">internalId</td><td>unique sale id - internal </td></tr>
    <tr><td class="paramname">cashRegisterId</td><td>cash register id - if exist and is needed for the merchant </td></tr>
    <tr><td class="paramname">message</td><td>detailed information to be set for this action </td></tr>
    <tr><td class="paramname">completion</td><td>Block executed at the end of the method </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a090a74bafc333fcf273b3ed0076faa2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090a74bafc333fcf273b3ed0076faa2c">&#9670;&nbsp;</a></span>salesStatistics:completion:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) salesStatistics: </td>
          <td></td>
          <td class="paramtype">(WDStatisticsQuery *)&#160;</td>
          <td class="paramname"><em>query</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(SaleStatisticsCompletion _Nonnull)&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the sales statistics based on the search criteria. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>Statistics query parameters </td></tr>
    <tr><td class="paramname">completion</td><td>Block executed at the end of the login method - provides Array of one element EMAIL or SMS to confirm which method for sending the Receipt was used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9a472663e43c715c7f4f3d36dc8e895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9a472663e43c715c7f4f3d36dc8e895">&#9670;&nbsp;</a></span>sendReceiptForSale:saleState:byEmailOrPhone:completion:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) sendReceiptForSale: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>saleId</em></td>
        </tr>
        <tr>
          <td class="paramkey">saleState:</td>
          <td></td>
          <td class="paramtype">(WDSaleState)&#160;</td>
          <td class="paramname"><em>saleState</em></td>
        </tr>
        <tr>
          <td class="paramkey">byEmailOrPhone:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>emailOrPhone</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(SendReceiptCompletion)&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Receipt to Email or Phone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">saleId</td><td>Sale id for which the Receipt should be sent </td></tr>
    <tr><td class="paramname">saleState</td><td>state (WDSaleStateCompleted, WDSaleStateReturned, WDSaleStateCancelled, ...) </td></tr>
    <tr><td class="paramname">emailOrPhone</td><td>Email address or Phone number to which to send the Receipt </td></tr>
    <tr><td class="paramname">completion</td><td>Block executed at the end of the login method - provides Array of one element EMAIL or SMS to confirm which method for sending the Receipt was used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Pod/Classes/frameworks/WDePos.framework/Headers/<a class="el" href="_w_d_sale_manager_8h_source.html">WDSaleManager.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interface_w_d_sale_manager.html">WDSaleManager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
